<p-toast></p-toast>

<div class="card mt-4">

  <p-table [value]="customers" styleClass="p-datatable-striped p-datatable-sm" dataKey="id" editMode="row" responsiveLayout="scroll" [rows]="10" [paginator]="true"
    [globalFilterFields]="['{customer.customerName']" [rowHover]="true" dataKey="id"
    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [showCurrentPageReport]="true">

    <ng-template pTemplate="caption">
      <div class="flex float-right">
          <button type="button" pButton pRipple icon="pi pi-file" class="p-button-raised p-button-rounded mr-4" pTooltip="CSV" tooltipPosition="bottom"></button>
          <button type="button" pButton pRipple icon="pi pi-file-excel" class=" p-button-success p-button-raised p-button-rounded" pTooltip="XLS" tooltipPosition="bottom"></button>
          <button type="button" pButton pRipple icon="pi pi-file-pdf"class="p-button-warning p-button-raised p-button-rounded" pTooltip="PDF" tooltipPosition="bottom"></button>
      </div>
  </ng-template>
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="customerId" style="padding: 0.5rem 0.5rem !important;">ID <p-sortIcon field="customerId"></p-sortIcon>
        </th>
        <th pSortableColumn="customerName" style="padding: 0.5rem 0.5rem !important;">Name <p-sortIcon field="customerName"></p-sortIcon>
        </th>
        <th pSortableColumn="customerType" style="padding: 0.5rem 0.5rem !important;">Type <p-sortIcon field="customerType"></p-sortIcon>
        </th>
        <th pSortableColumn="branchOriginallyCreated" style="padding: 0.5rem 0.5rem !important;">Branch <p-sortIcon field="branchOriginallyCreated"></p-sortIcon>
        </th>
        <th class="text-center">Action</th>
        <!-- <th style="width:8rem"></th> -->
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-customer let-editing="editing" let-ri="rowIndex">
      <tr [pEditableRow]="customer">
        <td >
          <p-cellEditor>
            <ng-template pTemplate="input">
              <input pInputText class="p-inputtext-sm" type="text" [(ngModel)]="customer.customerId">
            </ng-template>
            <ng-template pTemplate="output">
              {{customer.customerId}}
            </ng-template>
          </p-cellEditor>
        </td>
        <td >
          <p-cellEditor>
            <ng-template pTemplate="input">
              <input pInputText class="p-inputtext-sm" type="text" [(ngModel)]="customer.customerName" required>
            </ng-template>
            <ng-template pTemplate="output">
              {{customer.customerName}}
            </ng-template>
          </p-cellEditor>
        </td>
        <td >
          <p-cellEditor>
            <ng-template pTemplate="input">
              <input pInputText class="p-inputtext-sm" type="text" [(ngModel)]="customer.customerType">
            </ng-template>
            <ng-template pTemplate="output">
              {{customer.customerType}}
            </ng-template>
          </p-cellEditor>
        </td>
        <td >
          <p-cellEditor>
            <ng-template pTemplate="input">
              <input pInputText class="p-inputtext-sm" type="text" [(ngModel)]="customer.branchOriginallyCreated">
            </ng-template>
            <ng-template pTemplate="output">
              {{customer.branchOriginallyCreated }}
            </ng-template>
          </p-cellEditor>
        </td>
        <td style="text-align:center">
          <button *ngIf="!editing" pButton pRipple type="button" pInitEditableRow icon="pi pi-pencil"
            (click)="onRowEditInit(customer)" class="p-button-rounded p-button-text"></button>
          <button *ngIf="editing" pButton pRipple type="button" pSaveEditableRow icon="pi pi-check"
            (click)="onRowEditSave(customer)" class="p-button-rounded p-button-text p-button-success mr-2"></button>
          <button *ngIf="editing" pButton pRipple type="button" pCancelEditableRow icon="pi pi-times"
            (click)="onRowEditCancel(customer, ri)" class="p-button-rounded p-button-text p-button-danger"></button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
